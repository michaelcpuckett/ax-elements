<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>AX Elements</title>
    <link rel="stylesheet" href="style.css" />
    <script type="module">
      import './embed.mjs'
      import './landmark.mjs'
      import './view.mjs'
      import './text.mjs'
      import './paragraph.mjs'
      import './button.mjs'
      import './link.mjs'
      import './details.mjs'
      import './summary.mjs'
      import './dialog.mjs'
      import './alert.mjs'
      import './announcement.mjs'
      import './form.mjs'
      import './textbox.mjs'
      import './grid.mjs'
      import './row.mjs'
      import './cell.mjs'
      import './tabs.mjs'
      import './tablist.mjs'
      import './tab.mjs'
      window.checkWeather = function() {
        const type = [
          'Dreary',
          'Sunny',
          'Pleasant',
          'Hot',
          'Snowing'
        ][Math.round((Math.random() * 4))]
        window.document.querySelector('[data-el="weather"]').innerText = type
        window.document.querySelector('ax-announcement').setAttribute('ax-say', `Today's weather is ${type}.`)
      }
      new Promise(resolve => {
        window.addEventListener('DOMContentLoaded', () => {
          resolve()
        })
      }).then(() => {
        Promise.all([...window.document.querySelectorAll('ax-embed')].map(el => new Promise((resolve, reject) => {
          if (el.result) {
            resolve()
          }
          el.addEventListener('load', resolve)
          el.addEventListener('error', reject)
        })))
        .then(() => {
          window.document.body.removeAttribute('aria-busy')
          ;[...window.document.querySelectorAll('[ax-cloak]')].forEach(el => el.removeAttribute('ax-cloak'))
        })
      })
    </script>
  </head>
  <body role="document" aria-busy="true">
    <ax-landmark ax-name="AX Elements" ax-cloak>
      <ax-embed ax-url="landmark.html"></ax-embed>
      <ax-embed ax-url="button.html"></ax-embed>
      <ax-embed ax-url="link.html"></ax-embed>
      <ax-embed ax-url="details.html"></ax-embed>
      <ax-embed ax-url="textbox.html"></ax-embed>
      <ax-embed ax-url="form.html"></ax-embed>
      <ax-embed ax-url="dialog.html"></ax-embed>
      <ax-embed ax-url="alert.html"></ax-embed>
      <ax-embed ax-url="announcement.html"></ax-embed>
      <ax-embed ax-url="grid.html"></ax-embed>
      <ax-embed ax-url="tabs.html"></ax-embed>
    </ax-main>
    <ax-embed ax-url="dialog-cart.html"></ax-embed>
    <ax-embed ax-url="dialog-login.html"></ax-embed>
    <ax-embed ax-url="alert-saved.html"></ax-embed>
    <ax-announcement></ax-announcement>
  </body>
</html>